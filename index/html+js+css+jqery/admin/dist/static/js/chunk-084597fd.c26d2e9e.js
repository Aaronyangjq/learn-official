(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-084597fd"],{"0bfb":function(t,e,n){"use strict";var a=n("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"273a":function(t,e,n){"use strict";var a=n("ab3a"),i=n.n(a);i.a},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"6b54":function(t,e,n){"use strict";n("3846");var a=n("cb7c"),i=n("0bfb"),l=n("9e1e"),r="toString",o=/./[r],c=function(t){n("2aba")(RegExp.prototype,r,t,!0)};n("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?c((function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!l&&t instanceof RegExp?i.call(t):void 0)})):o.name!=r&&c((function(){return o.call(this)}))},ab3a:function(t,e,n){},fa13:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[t._m(0),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:14}},[n("el-select",{attrs:{placeholder:"全部"},on:{change:t.filterContent},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return n("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1),t._v(" "),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.noPass()}}},[t._v("审核不通过")])],1),t._v(" "),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"primary",size:"small",disabled:t.disabledpass},on:{click:function(e){return t.pass()}}},[t._v("审核通过")])],1),t._v(" "),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleDelete}},[t._v("删除")])],1)],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55",label:"全选"}}),t._v(" "),n("el-table-column",{attrs:{prop:"id",width:"55",label:"序号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"dev_type",label:"开发类型",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.dev_type&&e.row.dev_type.join(" ")))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"product",label:"项目名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"has_file",label:"是否上传相关文档"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"需求方姓名"}}),t._v(" "),n("el-table-column",{attrs:{prop:"phone",label:"联系方式"}}),t._v(" "),n("el-table-column",{attrs:{prop:"status",label:"状态"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.toDetail(e.row.id)}}},[t._v("详情")])]}}])})],1),t._v(" "),n("el-pagination",{staticStyle:{"text-align":"center","margin-top":"30px"},attrs:{background:"","prev-text":"上一页","next-text":"下一页","current-page":t.currentPage,"page-size":t.pageInfo.limit,total:t.pageInfo.total,layout:"prev, pager, next"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("h1",[t._v("待审核的内容")])])}],l=(n("96cf"),n("1da1")),r=(n("6b54"),n("9bc9")),o={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{list:null,listLoading:!0,visible:!1,multipleSelection:[],options:[{id:1,value:"全部"},{id:0,value:"待审核"},{id:2,value:"已下架"}],value:"",tableData:[{id:1,dev_type:[],product:"",has_file:"",name:"",phone:"",status:"",operation:""}],pageInfo:{limit:10,page:1,total:null,totalPage:null},currentPage:1,disabledpass:!0}},created:function(){this.fetchPendingReviewData()},methods:{fetchPendingReviewData:function(){var t=this;Object(r["b"])().then((function(e){t.tableData=e.data,t.pageInfo=e.pageInfo}))},fetchReviewData:function(){Object(r["d"])()},toDetail:function(t){var e="pendingReviewTable";this.$router.push("/detail/".concat(t,"/").concat(e))},noPass:function(){var t=this,e=this.multipleSelection.map((function(t){return t.id})).toString(),n=2;e&&n&&Object(r["h"])(e,n).then((function(){return t.fetchPendingReviewData()}))},pass:function(){var t=this,e=this.multipleSelection.map((function(t){return t.id})).toString(),n=1;e&&n&&Object(r["h"])(e,n).then((function(){return t.fetchPendingReviewData()}))},handleDelete:function(){var t=this;this.$confirm("是否确定删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=t.multipleSelection.map((function(t){return t.id})).toString();Object(r["a"])(e).then((function(){return t.fetchPendingReviewData()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(t){this.multipleSelection=t,this.multipleSelection&&(this.disabledpass=!1),0===this.multipleSelection.length&&(this.disabledpass=!0)},filterContent:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n={all:1,pendingReview:0,offshelf:2},e!==n.all){t.next=9;break}return t.next=4,Object(r["b"])();case 4:a=t.sent,this.tableData=a.data,this.pageInfo=a.pageInfo,t.next=14;break;case 9:return t.next=11,Object(r["b"])(this.pageInfo.page,this.pageInfo.limit,e);case 11:i=t.sent,this.tableData=i.data,this.pageInfo=i.pageInfo;case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleSizeChange:function(t){this.pageInfo.limit=t},handleCurrentChange:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.currentPage=e,t.next=3,Object(r["b"])(e,this.pageInfo.limit);case 3:n=t.sent,this.tableData=n.data;case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},c=o,s=(n("273a"),n("2877")),u=Object(s["a"])(c,a,i,!1,null,"bd29cd1c",null);e["default"]=u.exports}}]);